<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Calcolatrice finta</title>
  <link rel="stylesheet" href="style.css">
</head>
  <script>
  const display = document.querySelector('.display');
  const buttons = document.querySelectorAll('.buttons button');
  let expression = '';

  function updateDisplay() {
    display.textContent = expression || '0';
  }

  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      const val = btn.textContent.trim();

      if (val === 'AC') {
        expression = '';
      } else if (val === '=') {
        try {
          // Sostituzioni per simboli iOS
          const cleanExpr = expression
            .replace(/÷/g, '/')
            .replace(/×/g, '*')
            .replace(/−/g, '-')
            .replace(/,/g, '.');
          const result = eval(cleanExpr);
          expression = result.toString().replace('.', ',');
        } catch {
          expression = 'Errore';
        }
      } else if (val === '+⁄−') {
        if (expression) {
          if (expression.startsWith('-')) {
            expression = expression.substring(1);
          } else {
            expression = '-' + expression;
          }
        }
      } else {
        expression += val;
      }

      updateDisplay();
    });
  });

  updateDisplay();
</script>
<body>
  <div class="calculator">
    <div class="display">0</div>
<div class="buttons">
  <button class="gray">AC</button>
  <button class="gray">+⁄−</button>
  <button class="gray">%</button>
  <button class="orange">÷</button>

  <button class="dark">7</button>
  <button class="dark">8</button>
  <button class="dark">9</button>
  <button class="orange">×</button>

  <button class="dark">4</button>
  <button class="dark">5</button>
  <button class="dark">6</button>
  <button class="orange">−</button>

  <button class="dark">1</button>
  <button class="dark">2</button>
  <button class="dark">3</button>
  <button class="orange">+</button>

  <button class="dark icon">
    <svg viewBox="0 0 24 24" width="22" height="22" fill="white" xmlns="http://www.w3.org/2000/svg">
      <rect x="6" y="3" width="12" height="18" rx="2" stroke="white" stroke-width="2" fill="none"/>
      <circle cx="9" cy="8" r="1" fill="white"/>
      <circle cx="15" cy="8" r="1" fill="white"/>
      <circle cx="9" cy="12" r="1" fill="white"/>
      <circle cx="15" cy="12" r="1" fill="white"/>
      <circle cx="9" cy="16" r="1" fill="white"/>
      <circle cx="15" cy="16" r="1" fill="white"/>
    </svg>
  </button>
  <button class="dark">0</button>
  <button class="dark">,</button>
  <button class="orange">=</button>
</div>
